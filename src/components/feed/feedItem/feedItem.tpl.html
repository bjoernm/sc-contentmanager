<md-card>
    <md-card-header class="attribute-changed-header">
        <md-card-avatar>
            <img class="md-user-avatar" src="http://www.fillmurray.com/g/200/200">
        </md-card-avatar>
        <md-card-header-text>
            <div class="md-title" layout="row" layout-align="space-between start">
                <div>{{ feedItemCtrl.event.user.name }}</div>
                <div>{{ feedItemCtrl.event.changeset.when }}</div>
            </div>
            <div class="md-subhead" layout="row" layout-align="space-between start">
                <div ng-if="feedItemCtrl.event.eventType == 'ADD' && feedItemCtrl.event.entity.type != null ">
                    Added a {{feedItemCtrl.event.entity.type}}
                </div>
                <div ng-if="feedItemCtrl.event.eventType == 'CHANGE' && feedItemCtrl.event.entity.type != null ">
                    Changed a {{feedItemCtrl.event.entity.type}}
                </div>
                <div ng-if="feedItemCtrl.event.eventType == 'ADD' && feedItemCtrl.event.entity.type == null ">
                    Added a Workspace
                </div>
                <div ng-if="feedItemCtrl.event.eventType == 'CHANGE' && feedItemCtrl.event.entity.type == null ">
                    Changed a Workspace
                </div>
                <div><md-icon id="iconWhite" class="material-icons">storage</md-icon></div>
            </div>
        </md-card-header-text>
    </md-card-header>
    <md-card-title>
        <md-card-title-text>
            <span class="md-subhead">
                {{feedItemCtrl.event.space.name}}
                <md-icon class="material-icons">chevron_right</md-icon>
                {{feedItemCtrl.event.entity.name}}
            </span>
            <span class="md-headline" ng-repeat="change in feedItemCtrl.event.changeset.changes">
                <div ng-if="change.type === 'richString'">
                    Changed {{ change.property.name }} of {{ feedItemCtrl.event.changeset.entity.name }}.
                </div>
                <div ng-if="change.type === 'simpleValue'">
                    <div ng-if="change.property.type === 'HYBRID_TYPE'">
                        Changed value of {{ change.property.name }} from {{change.oldValue.value}} to {{change.newValue.value}}
                    </div>
                    <div ng-if="change.property.type !== 'HYBRID_TYPE'">
                        Changed value of {{ change.property.name }} from {{change.oldValue}} to {{change.newValue}}
                    </div>
                </div>
            </span>
        </md-card-title-text>
    </md-card-title>
    <md-card-actions layout="row" layout-align="start center">
        <md-button aria-label="Favorite">
            <md-icon class="material-icons">favorite</md-icon>
        </md-button>
        <md-button aria-label="Comment">
            <md-icon class="material-icons">comment</md-icon>
        </md-button>
    </md-card-actions>
    <md-card-content>
        <p>
            Space for Comments
        </p>
    </md-card-content>
</md-card>
