<table class="attributesTable">
    <tbody ng-repeat="attribute in attributes track by attribute.name">
    <tr ng-if="!attribute.edit">
        <td>{{attribute.name}}</td>
        <td>
            <sc-attribute-value attribute="attribute"></sc-attribute-value>
        </td>
        <td style="text-align: right">
            <md-menu>
                <!-- Trigger element is a md-button with an icon -->
                <md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open context menu">
                    <md-icon md-font-icon>more_vert</md-icon>
                </md-button>
                <md-menu-content>
                    <md-menu-item>
                        <md-button ng-click="attribute.edit = true">
                            <md-icon md-font-icon>edit</md-icon>
                            Edit
                        </md-button>
                    </md-menu-item>
                    <md-menu-item>
                        <md-button ng-click="deleteValue(attribute)">
                            <md-icon md-font-icon>delete</md-icon>
                            Delete
                        </md-button>
                    </md-menu-item>
                </md-menu-content>
            </md-menu>
        </td>
    </tr>
    <tr ng-if="!!attribute.edit">
        <td colspan="3">
            <sc-attribute-value-edit attribute="attribute" on-change="valueChanged(attribute, newValues)"
                                     on-abort="closeEditingValue(attribute)"></sc-attribute-value-edit>
        </td>
    </tr>
    </tbody>
</table>